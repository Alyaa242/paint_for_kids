!function(){"use strict";function t(t,n){I.forEach((r=>{try{r(new L(t,n))}catch(t){}}))}function n(t,n){return-1!==function(t,n){if("string"!=typeof n)return-1;if(null==t)return-1;let r=String(t);return 0===r.length?-1:r.indexOf(n)}(t,n)}function r(t,n){void 0===n&&(n="");try{return atob(t)}catch(t){return"string"==typeof n?n:""}}function e(t){return Math.floor(Math.random()*t)}function u(t){return new Promise(t)}function l(t){let n,r,e=u(((t,e)=>{n=n=>{n instanceof Promise||null!=n&&n.then?n.then((t=>{l.v=t})):l.v=n,t(n)},r=e})),l={v:null!=t&&t!==String({})?t:null,r:n,o:r,p:e};return[l.r,l.o,()=>l.v,l.p]}function i(){return Math.floor(Math.random()*(Number.MAX_SAFE_INTEGER-10)).toString(36)}function c(){return[i(),i(),i()].join("").slice(0,18)}function o(t){let n=[];return Object.keys(t).forEach((r=>{var e;null!=t[r]&&n.push(G(r)+"="+G(String(null!=(e=t[r])?e:"")))})),n.join("&")}function a(t){if(null==t||t.length<2)return{};let n={};return t.replace(/^\?/,"").split("&").forEach((t=>{let r=t.split("=");n[C(r[0])]=C(r[1])})),n}function s(t){return Promise.reject(t)}function f(t){return Promise.resolve(t)}function d(t){if(!t)return!1;try{return!!D.location.href}catch(t){return!1}}function h(){return J&&null!=J.ancestorOrigins?null==(t=J.ancestorOrigins)?[]:"function"==typeof Array.isArray&&Array.isArray(t)?t:"function"==typeof Array.from?Array.from(t):A.call(t):[];var t}function p(){if(D===D.top)return J.host;try{var t;let n=null==(t=D.top)?void 0:t.location.host;if(null!=n)return n}catch(t){}let n=h();if(n.length>0){let t=n[n.length-1];if(null!=t){try{return m(t).host}catch(t){}return t}}return""}function m(t){try{return new URL(t)}catch(n){let r=P.createElement("a");return r.href=t,r}}function y(t){if("string"==typeof t)return t.replace(/\(([^\):]+):(\d+:\d+)\)/g,"($2)").replace(/at \/[\S:]+:(\d+:\d+)/g,"at $1");if(t instanceof Error)return t.message+"\n"+y(t.stack);if(t instanceof ErrorEvent)return y(t.message+" @"+t.lineno+":"+t.colno+" / "+t.type);if(t instanceof Event)return y(t.type);try{return JSON.stringify(t)}catch(t){}return String(t)}function v(t){return Math.round(100*Math.random())<=t}function g(t,n,r,e){void 0===r&&(r=P),void 0===e&&(e=[]);let u=r.createElement(t);return null!=n&&("!"===n[0]?function(t,n,r){if(null!=t)try{t.setAttribute("style",String(r))}catch(t){}}(u,0,n.slice(1)):u.className=n),e&&e.length&&e.forEach((t=>{"string"!=typeof t?u.appendChild(t):u.insertAdjacentHTML("beforeend",t)})),u}function b(t,n){void 0===n&&(n=K);try{return n.localStorage.getItem(t)}catch(t){return null}}function w(t,n,r){try{t.localStorage.setItem(n,function(t){return"string"==typeof t}(r)?r:JSON.stringify(r))}catch(t){}}function x(t,n,r){void 0===r&&(r=K),w(r,t,n);let e=K.parent;for(;null!=e&&e!==K&&e!==top;)w(e,t,n),e=e.parent;w(top,t,n)}function _(){return(_=Object.assign||function(t){var n,r,e;for(n=1;n<arguments.length;n++)for(e in r=arguments[n])Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=r[e]);return t}).apply(this,arguments)}function O(t,r){return null!=t&&/ib\.adnxs\.com/.test(t)&&("1"===(e=r.gdpr)||"true"===e||!0===e||1===e)&&!n(t,"gdpr_consent=");var e}function S(t,n){let r=new URL(t);return r.searchParams.set("gdpr",$(n.gdpr)),r.searchParams.set("gdpr_consent",$(n.gdpr_consent)),r.toString()}function E(t,r,e){var l;void 0===e&&(e=!1);let i=new Z(t);return(l=t,u(((t,r)=>{!function(t){try{parent.postMessage("||am.ck."+t,"*")}catch(t){}}(l);let e=function(){try{let t=top.Image;if(null!=t)return new t;let n=g("img","a-s",top.document);return n.style.display="none",n}catch(t){}return null!=D.Image?new Image:g("img","a-s")}(),u=e.className&&n(e.className,"a-s"),i=u?()=>{!function(t){if(null==t)return;let n=t.parentElement;null!=n&&n.removeChild(t)}(e)}:()=>{},c=u=>{i(),null!=u&&n(l,"ib.adnxs.com/prebid")?r(u):t(e)};e.onerror=t=>c(t),e.onload=()=>c(null),e.src=l,u&&function(t,n){[].concat(n).forEach((n=>{t.appendChild(n)}))}(e.ownerDocument.head,e)}))).then((t=>(i.g(t.src),i))).catch((n=>!e&&O(t,r)?E(S(t,r),r,!0):(i.g("",n),V._("csynce",{bid:t,e:y(n)}),i)))}function N(t,n){if(null==n||null==n.frames)return;let r=n.frames.length;for(let e=0;e<r;e++)try{if(n.frames[e]===D)continue;n.frames[e].postMessage("&"+JSON.stringify({l:t}),"https://"+document.domain)}catch(t){}}const D=window,P=D.document,R=D.navigator,j=D,J=D.location,M=D.screen,C=t=>{try{return decodeURIComponent($(t))}catch(n){return $(t)}};let I=[];const U=(n,r)=>{return D.setTimeout((e=n,void 0===u&&(u=!1),function(){for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];try{return e(...r)}catch(n){u||t(W(n),{C:"sWF"})}return null}),r);var e,u},$=String;class L extends Error{O(){var t;return null!=(t=this.extra)?t:{}}S(){}constructor(t,n){let r="string"!=typeof t;super(r?t.message:t),this.extra=n;try{r&&(this.stack=t.stack,this.N=t.N,this.name=t.name)}catch(t){}}}class X extends Error{constructor(t){super(t)}}const T=(t,n)=>t instanceof X?t:t&&t instanceof Error?new L(t,n):new L($(t),n);let k=null,A=[].slice;const G=n=>{try{return encodeURIComponent($(n))}catch(r){return t(W(r),{value:n}),""}};!function(){try{let t=h(),n=t[t.length-1];/(?:msn|microsoft|outlook)\.com/i.test(n)}catch(t){return!1}}();const W=t=>null!=t&&t instanceof Error?t:T($(t));let K=function(){if(D===D.top)return D;try{var t;if(null!=(null==(t=D.top)?void 0:t.location.href))return D.top}catch(t){}return D}(),q=K;K.document,r("X19TdG9yYWdlREI=","_db"),null!=k||(k=function(){let t=p().replace(/:\d+/,"").split("."),n=/\.co\.\w{2,4}$/.test(J.host)?3:2;return t.slice(t.length-n).join(".")}()),r("c2RiX192YWx1ZXM=","_t"),r("X2dhX2JldGF1aWQ=","_g"),K.indexedDB||q.mozIndexedDB||q.webkitIndexedDB||q.msIndexedDB,function(){let t=l(null),n=u((t=>{U((()=>{t(f([["0","0","0"],!1]))}),e(1e3))}));t[0](n)}();let F="https://id.a-mx.com/sync?tao=1&",H="https://id.rtb.mx/rum?",Y="amdgt@1",Q="fetch"in D&&null!=D.fetch?t=>fetch(t,{mode:"cors",credentials:"include"}).then((t=>t.json())):t=>new Promise(((n,r)=>{let e=new XMLHttpRequest;e.open("GET",t),e.onreadystatechange=()=>{e.readyState>=4&&200===e.status?n(JSON.parse(e.responseText)):e.readyState>=4&&r(T(e.status))},e.onerror=r,e.withCredentials=!0,e.setRequestHeader("Content-Type","text/plain"),e.send()}));"amx".split("").map((t=>t.charCodeAt(0))).length;class Z{g(t,n){this.error=null!=n?W(n):void 0,this.P=t,this.rtt=Date.now()-this.startTime}getError(){var t;return null!=(t=this.error)?t:null}R(){return null!=this.error}constructor(t){this.url=t,this.startTime=Date.now(),this.rtt=0,this.P=""}}let z=function(t){void 0===t&&(t="");let r=function(t){void 0===t&&(t="");let r=P.currentScript;if(null!=r)return r;let e=P.scripts;if(null==e)return null;for(let r=0,u=e.length;r<u;r++){let u=e[r];if(n(u.src+"","assets.a-mo.net/js/"+t))return u}return null}(t);if(null==r)return{};r.className+="  amx-aco-active ";let e=m(r.src);return null==e?{}:a((e.hash.length>1&&n(e.hash,"=")?e.hash:e.search).slice(1))}(),B=a(J.search.slice(1)),V=new class{j(t){Object.assign(this.J,t)}I(){var t,n;return this.$?{gdpr:this.$?1:0,do:null!=(t=this.J.do)?t:"",gdpr_consent:this.L}:{do:null!=(n=this.J.do)?n:""}}X(t,n){return"https://1x1.a-mo.net/hbx/g_"+t+"?"+o(_({},this.J,n,{eid:c(),ts:Date.now()}))}_(t,n){void 0===n&&(n={}),(new Image).src=this.X(t,n)}constructor(){var t,r,e,u,l;this.J=_({do:function(){let t=p();return n(t,"http")?new URL(t).host:t}(),re:P.referrer,sw:null!=(r=M.availWidth)?r:0,sh:null!=(e=M.availHeight)?e:0},B,z);let i=this.J.gdpr;this.L=null!=(u=this.J.gdpr_consent)?u:"",this.$="true"===i||"1"===i||1===i||!0===i,this.J.m=i?"1":"0",this.J.p=null!=(l=null==(t=this.L)?void 0:t.length)?l:-1}},tt="__amuidpb",nt=[["https://ib.adnxs.com/prebid/setuid?bidder=amx&uid=",!1,100],["https://ow.pubmatic.com/setuid?bidder=amx&uid=",!1,100],["https://prebid-server.rubiconproject.com/setuid?bidder=amx&uid=",!1,100]],rt=t=>null!=t&&t.length>0,et="__am$CK|"+Math.floor(Date.now()/864e5),ut=!1;D.addEventListener("message",(t=>{if(n(t.origin,"a-mo.net"))try{let n=JSON.parse(t.data.slice(1));ut=n.l}catch(t){}})),j.__am$CK=(t,r)=>{var i;i=function(t,n){let r=t.amuid;return"string"==typeof(e=r)&&e.length>0?()=>n(_({},t,{amuid:r})):()=>{u(((t,n)=>{let r=new XMLHttpRequest;r.open("GET","https://prebid.a-mo.net/getuid"),r.withCredentials=!0,r.onreadystatechange=()=>{if(r.readyState>=4){if(200!==r.status)return n(r.status);let{buyeruid:e}=JSON.parse(r.responseText);if(null==e)return n("null");t(e)}},r.onerror=n,r.send()})).then((r=>{n(_({},t,{amuid:r}))})).catch((r=>{if("crypto"in D&&null!=D.crypto.T){let r=D.crypto.T();return x(tt,r),void n(_({},t,{amuid:r}))}}))};var e}(r,(r=>{V.j({cn:t.length,c3:r.amuid}),n(r.amuid,"#")&&x(tt,r.amuid);let e=V.I(),i=null!=e?"&"+o(e):"";!function(t,n){var r,e,l,i,o;try{(i="https://assets.a-mo.net/js/idl.js?ga="+(null!=(r=null==t?void 0:t.gdpr)?r:0)+"&gc="+(null!=(e=null==t?void 0:t.gdpr_consent)?e:"")+"&do="+(null!=(l=t.do)?l:"")+"&e=27&uid="+(null!=n?n:""),o={},null!=j.G?f(j.G):(null!=o&&(j.G=o),u(((t,n)=>{let r=g("script");r.type="text/javascript",r.id="slc__"+c(),r.src=i;let e=!1;r.onload=()=>{e=!0,U((()=>{let r=j.G;null!=r?t(r):n(T(500))}),150)},r.onerror=t=>{e||n(t)},P.head.appendChild(r)})))).catch((()=>{}))}catch(t){}}(e,r.amuid);try{v(30)&&function(t){let r=b(Y);if(null!=r&&!isNaN(r)&&Date.now()-parseInt(r,10)<36e5)return;let e=function(){let t=l(null);if("undefined"==typeof PerformanceObserver)return t;let r=new PerformanceObserver((e=>{e.getEntries().forEach((e=>{if(e.name===F||n(e.name,"a-mx.com")){let u=e,l=t[2](),[i,c]=null==l?["",""]:l,o={d:[0|u.domainLookupStart,0|u.domainLookupEnd],c:[0|u.connectStart,0|u.connectEnd],ttl:0|u.duration,s:[0|u.secureConnectionStart,0|u.responseStart],r:[0|u.responseStart,0|u.responseEnd],p:0|u.transferSize,t:Date.now()},a=(null!=i&&n(i,"*")?H+"uid="+i.split("*")[2]:H)+c;null!=R.sendBeacon?R.sendBeacon(a,JSON.stringify(o)):fetch(a,{mode:"cors",credentials:"include",method:"POST",body:JSON.stringify(o),headers:{"Content-Type":"text/plain"}}),r.disconnect()}}))}));return r.observe({type:"resource",buffered:!0}),t}();x(Y,Date.now().toString()),Q(F+t).then((n=>{e[0]([n.id,t])})).catch((t=>{}))}(i)}catch(t){}try{a=r.amuid,d=i,Promise.all(["cb","_cb","callback"].map((t=>function(t,r,e){if(null==t)return s(T("NOC"));try{let l=new URL(J.href);if(l&&null!=l.searchParams.get(e)){let i=l.searchParams.get(e),c=G(t),o=n(null!=i?i:"","$UID")?i.replace("$UID",null!=c?c:""):i+c,a=new URL(o);a.searchParams.delete("gdpr"),a.searchParams.delete("gdpr_consent"),a.searchParams.delete("us_privacy");let s=a.toString()+r;return"iframe"===l.searchParams.get("_cbt")?u((t=>{t(J.href=s)})):f((new Image).src=s)}}catch(t){return s(t)}return f("")}(a,d,t).catch((t=>null)))))}catch(t){}var a,d;if(null!=r.amuid){let n=function(t,n){let r=G(t);return nt.filter((t=>{let[,,n]=t;return v(n)})).map((t=>{let[e,u]=t;return u&&""===n?null:e+r+n})).filter(rt)}(r.amuid,i);t.push(...n),t.push("https://ib.adnxs.com/prebid/setuid?bidder=amx&uid="+G(r.amuid)+i);try{parent.postMessage("||am.uk."+r.amuid,"*")}catch(t){}}let h=null;t.forEach((t=>{O(t,z)&&(h=S(t,z))})),null!=h&&t.push(h),Promise.all(t.map((t=>E(t,z)))).then((t=>{let e=t.length,u=t.filter((t=>!t.R())).length,l=t.reduce(((t,n)=>t+n.rtt),0)/(1*e);try{let t=b(tt),e=null!=t&&n(t,"#")?t:r.amuid;D.parent.postMessage({type:"uid",W:["amx",e]})}catch(t){}x("__amuidst.1",JSON.stringify({cn:e,cn2:u,cn3:l}))}))})),U((()=>{!function(t){let r=function(){if(d(D.top))return D.top;let t=D;for(;d(t.parent);)t=t.parent;return t}();if(ut)return;let e=b(et,r);if(!(null!=e&&e.length>0||n(P.cookie,"__am$CK"))){x(et,Date.now()+"",r);try{P.cookie="__am$CK=1;path=/;max-age=300"}catch(t){}N(!0,D.parent),N(!0,top);try{t()}catch(t){}U((()=>{N(!1,parent),N(!1,top),x(et,"",r)}),9e4)}}(i)}),e(300)+50)}}();
//# sourceMappingURL=cframe.js.map
